---
title: 强行删除
date: 2016-09-28 15:54:20
tags:
	- windows
---
## 可解决文件名对应路径过长无法删除的情况

-----------------------------------------------------
#### 背景
这不是昨天电脑重装了系统嘛，顺便格式化了所有盘（觉得太乱想重新搞一遍），然后跟hexo git有关的东西也要重新弄了。具体细节就不说了，反正是想把一个路径搞错的克隆的仓库删掉，但里面`node_modules`文件夹里，有路径很长的文件，删除的时候会跳出这样的警告
<!--more-->
![](/image/2016-09-28-forceDelete/alert_delete.png)
 在网上也找了好久，有一个说可以写一个bat文件执行删除指令的看起来还挺厉害的。。然而。。。敌人太强大（这里提示文件已删除但其实没有删掉）
![](/image/2016-09-28-forceDelete/fail.png)

----------------------------------------------------------
#### 解决方法！
首先，随便找个地方新建一个空文件夹，名字随便。（最好路径、名字都简单点，方便接下来的操作）

然后在开始菜单输入cmd打开命令行。

输入指令
```bash
robocopy <空文件夹路径> <要删掉的文件夹路径> /purge   #注意两个路径之间有一个空格，第二个路径与 /purge之间有一个空格
```
比如我执行的指令就是
```bash
robocopy D:\help_delete D:\github\blog /purge
```
接下来会看到类似下面的输出
![](/image/2016-09-28-forceDelete/step1.png)
然后这样
![](/image/2016-09-28-forceDelete/step2.png)
这就是成功啦~去文件夹里看看吧~是不是已经删掉啦
![](/image/2016-09-28-forceDelete/done.png)

-----------------------------------------
#### 说说原理~
这个robocopy命令呢，有一个参数格式，
`robocopy 源 目标 [option] `
源和目标指的都是文件或文件夹的路径

当这个`option`是`/purge`的时候，
这条命令代表`删去 目标中，不存在于源的 文件/目录`

所以当我们把源设置成空文件夹时，这条命令的执行就会删掉目标里的所有文件/目录~~~

有没有很强势哈哈哈~~

感兴趣的话可以[了解更多robocopy指令的不同功能](http://baike.baidu.com/link?url=8-DJgu88ryyX6aS9Keg4QkdBQWTFTcV79W5LsFJOrW84QvyePoON6q57fKW1vKX8-d29665gxcRN3tuHvhuY2_)  ^ ^
